(function(){"use strict";var e=function(){return this.location?function(e,t){window.setTimeout(function(){e(t)},1)}:function(e,t){process.nextTick(function(){e(t)})}}.apply(this),t=function(){var e=function(){this._idx=0,this._currentSequences=[],this._poolLength=0};return e.prototype.addValue=function(e){Array.isArray(e)?this._addArrayValue(e):this._addPrimitiveValue(e),this._updateIndex()},e.prototype._addArrayValue=function(e){for(var t=this._currentSequences.length-1;t>=0;t--)this._currentSequences[t]=this._currentSequences[t].concat(e);this._currentSequences[this._idx]=e},e.prototype._addPrimitiveValue=function(e){for(var t=this._currentSequences.length-1;t>=0;t--)this._currentSequences[t].push(e);this._currentSequences[this._idx]=[e]},e.prototype._updateIndex=function(){this._idx<this._poolLength-1?this._idx++:this._idx=0},e.prototype.flush=function(){this._currentSequences=[],this._idx=0},e.prototype.removeAtIndex=function(e){this._currentSequences.splice(e,1)},e.prototype.sequenceStatusIsRealizable=function(e){for(var t=this._currentSequences.length-1;t>=0;t--)if(this._currentSequences.length<=e.length)return!0;return!1},e.prototype.setPoolLength=function(e){this._poolLength=e},e.prototype.getStatus=function(){return{seqStatus:this._currentSequences,idx:this._idx,poolLength:this._poolLength}},e.prototype.isSequenceDone=function(e){for(var t=0,n=this._currentSequences.length;n>t;t++){var s=this._currentSequences[t],u=this._arraysEqual(s,e);if(u)return!0}return!1},e.prototype._arraysEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(e[n]!==t[n])return!1;return!0},e}(),n=function(){var n=function(){this._seqId=0,this._sequences=[],this._started=!1,this._currentStatus=new t};return n.prototype.addSequence=function(e,t){t.id||(t.id=this._seqId,this._seqId++),e._options=t,this._sequences.push(e);var n=this._getMostLargeSequenceLength();return this._currentStatus.setPoolLength(n),{id:t.id,value:e}},n.prototype.addValue=function(e){this._pushValue(e),this._getAccomplishedSequenceAsync(function(e){var t=e;t&&t._options.callback&&(t._options.callback.call(this),t._options.once&&this.removeSequenceById(t._options.id))}.bind(this))},n.prototype.removeSequenceById=function(e){for(var t=this._sequences.length-1;t>=0;t--){var n=this._sequences[t];if(n._options.id===e)return void this._sequences.splice(t,1)}},n.prototype.flushStatus=function(){this._currentStatus.flush()},n.prototype.flushSequences=function(){this._sequences=[]},n.prototype.getStatus=function(){return{currentStatus:this._currentStatus.getStatus(),sequences:this._sequences}},n.prototype._getMostLargeSequenceLength=function(){for(var e=0,t=this._sequences.length-1;t>=0;t--)e=Math.max(e,this._sequences[t].length);return e},n._getAccomplishedSequence=function(){for(var e=this._sequences.length-1;e>=0;e--){var t=this._sequences[e];if(this._isSequenceDone(t))return t}return!1},n.prototype._getAccomplishedSequenceAsync=function(t){var n=function(s){if(s<this._sequences.length){var u=this._sequences[s];this._isSequenceDone(u)?e(t,u):e(function(){e(n,s+1)})}else t(!1)}.bind(this);n(0)},n.prototype._currentStatusLengthAreTheCorrect=function(){for(var e=this._sequences.length-1;e>=0;e--){var t=this._sequences[e];if(this._currentStatus.length===t.length)return!0}return!1},n.prototype._destroyUnacomplishableSequenceStatus=function(e){this._currentStatus.removeAtIndex(e)},n.prototype._isSequenceDone=function(e){return this._currentStatus.isSequenceDone(e)},n.prototype._pushValue=function(e){this._currentStatus.addValue(e)},n}(),s={KONAMI_KODE:[38,38,40,40,37,39,37,39,66,65,13]},u=function(){var e=new n;return{addSequence:e.addSequence.bind(e),addValue:e.addValue.bind(e),flushStatus:e.flushStatus.bind(e),flushSequences:e.flushSequences.bind(e),predef:s,debug:e.getStatus.bind(e)}};this.ConsecutiveJS={getInstance:u}}).apply("undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports:window);